<style>
    .pagination a,
    .pagination span {
        padding: 7px 18px;
        border: 1px solid #eee;
        margin-left: -2px;
        margin-right: -2px;
        background-color: #ffffff;
        display: inline-block;
    }

    .pagination:hover a:hover {
        background-color: #f1f1f1;
        color: #333;
    }

    .pagination {
        text-align: center;
    }

    .posthead {
        font-size: 1.1em;
    }

    .postdate {
        margin-left: 5px;
        margin-right: 5px;
        float: right;
        vertical-align: bottom;
        font-size: 0.9em;
        color: gray;
    }

    .smallcode {
        font-size: 0.9em;
    }
</style>

<h4>Posts</h4>

<style>
    .category-tabs {
        display: flex;
        justify-content: flex-start;
        margin-bottom: 20px;
        flex-wrap: wrap;
    }
    .category-tab {
        padding: 8px 10px;
        border: 1px solid #eee;
        background: #fafafa;
        margin: 0 2px 5px 0;
        cursor: pointer;
        border-radius: 5px 5px 0 0;
        font-size: 0.85em;
        font-weight: bold;
    }
    .category-tab.active {
        background: #fff;
        border-bottom: 1px solid #fff;
    }
    .category-content { display: none; }
    .category-content.active { display: block; }
</style>

{% comment %}
Custom category sort order. Specify categories you want first (comma-separated).
Categories not listed will appear after in alphabetical order.
Example: "tech,personal,life"
{% endcomment %}
{% assign custom_category_order = "programming,ml,sanskruti" | split: "," %}

{% capture all_cats %}{% for cat in site.categories %}{{ cat[0] }},{% endfor %}{% endcapture %}
{% assign all_categories_sorted = all_cats | split: "," | sort %}
{% assign sorted_categories = "" | split: "," %}

{% for cat_name in custom_category_order %}
    {% if cat_name != "" %}
        {% assign sorted_categories = sorted_categories | push: cat_name %}
    {% endif %}
{% endfor %}

{% for cat_name in all_categories_sorted %}
    {% if cat_name != "" %}
        {% unless sorted_categories contains cat_name %}
            {% assign sorted_categories = sorted_categories | push: cat_name %}
        {% endunless %}
    {% endif %}
{% endfor %}

<div class="category-tabs">
    {% for cat_name in sorted_categories %}
        {% assign cat = site.categories[cat_name] %}
        {% if cat %}
        <div class="category-tab{% if forloop.first %} active{% endif %}" data-category="cat-{{ cat_name | slugify }}"># {{ cat_name }}</div>
        {% endif %}
    {% endfor %}
</div>

{% for cat_name in sorted_categories %}
    {% assign cat = site.categories[cat_name] %}
    {% if cat %}
    <div class="category-content{% if forloop.first %} active{% endif %}" id="cat-{{ cat_name | slugify }}">
        {% for post in cat %}
        <div>
            <a href="{{post.url | prepend: site.baseurl}}">
                <span class="posthead">{{post.title}}</span>
            </a>
            <span class="postdate">{{post.date | slice: 0, 10}}</span>
            <!-- <div>
                {% for tag in post.tags %}
                <code class="smallcode"><a href="/archive?id={{tag}}">{{tag}}</a></code> 
                {% endfor %}
            </div> -->
        </div>
        <!-- {{ post.content | strip_html | slice: 0, 250 }}...
        <br />
        <br /> -->
        {% endfor %}
    </div>
    {% endif %}
{% endfor %}

<script>
    // Simple tab switcher
    document.addEventListener('DOMContentLoaded', function() {
        var tabs = document.querySelectorAll('.category-tab');
        var contents = document.querySelectorAll('.category-content');
        tabs.forEach(function(tab) {
            tab.addEventListener('click', function() {
                tabs.forEach(function(t) { t.classList.remove('active'); });
                contents.forEach(function(c) { c.classList.remove('active'); });
                tab.classList.add('active');
                var catId = tab.getAttribute('data-category');
                document.getElementById(catId).classList.add('active');
            });
        });
    });
</script>